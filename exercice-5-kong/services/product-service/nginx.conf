events {
    worker_connections 1024;
}

http {
    server {
        listen 80;
        server_name product-service;

        location /health {
            access_log off;
            return 200 '{"service":"product-service","status":"healthy","timestamp":"$time_iso8601"}';
            add_header Content-Type application/json;
        }

        location /api/products {
            return 200 '{"products":[{"id":1,"name":"laptop","price":999},{"id":2,"name":"phone","price":699},{"id":3,"name":"tablet","price":499}]}';
            add_header Content-Type application/json;
        }

        location /api/products/count {
            return 200 '{"count":3}';
            add_header Content-Type application/json;
        }
    }
}
