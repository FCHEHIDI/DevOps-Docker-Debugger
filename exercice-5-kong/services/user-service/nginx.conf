events {
    worker_connections 1024;
}

http {
    server {
        listen 80;
        server_name user-service;

        location /health {
            access_log off;
            return 200 '{"service":"user-service","status":"healthy","timestamp":"$time_iso8601"}';
            add_header Content-Type application/json;
        }

        location /api/users {
            return 200 '{"users":[{"id":1,"name":"john","email":"john@example.com"},{"id":2,"name":"jane","email":"jane@example.com"},{"id":3,"name":"bob","email":"bob@example.com"}]}';
            add_header Content-Type application/json;
        }

        location /api/users/count {
            return 200 '{"count":3}';
            add_header Content-Type application/json;
        }
    }
}
